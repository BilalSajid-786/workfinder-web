<div class="page-wrap">
    <div class="card">
        <table class="jobs-table" mat-table [dataSource]="dataSource"  style="background-color: #fff;">
            <!-- Job Title -->
            <ng-container matColumnDef="title">
                <th  mat-header-cell *matHeaderCellDef>
                    <span class="cell-strong">Job Title</span>
                </th>
                <td mat-cell *matCellDef="let row">{{ row.title }}</td>
            </ng-container>

            <!-- Industry -->
            <ng-container matColumnDef="industryName">
                <th mat-header-cell *matHeaderCellDef>
                    <span class="cell-strong">Industry</span>
                </th>
                <td mat-cell *matCellDef="let row">{{ row.industryName }}</td>
            </ng-container>

            <!-- Expiry date -->
            <ng-container matColumnDef="expiryDate">
                <th mat-header-cell *matHeaderCellDef>
                    <span class="cell-strong">Expiry date</span>
                </th>
                <td mat-cell *matCellDef="let row">
                    {{ row.expiryDate | date:'mediumDate' }}
                </td>
            </ng-container>

            <!-- City -->
            <ng-container matColumnDef="city">
                <th mat-header-cell *matHeaderCellDef>
                    <span class="cell-strong">City</span>
                </th>
                <td mat-cell *matCellDef="let row">{{ row.city }}</td>
            </ng-container>

            <!-- Status -->
            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef>
                    <ng-container *ngIf="role === 'Employer'">
                        <span class="cell-strong">Status</span>
                    </ng-container>
                </th>
                <td mat-cell *matCellDef="let row" >
                    <ng-container *ngIf="role === 'Employer'">
                        {{ row.isActive ? 'Active' : 'Inactive' }}
                    
                        <mat-slide-toggle class="toggle-sm" selected-icon-size="small" color="primary" [checked]="row.isActive"
                            (change)="onToggleStatus(row, $event.checked)" aria-label="Toggle job status">
                        </mat-slide-toggle>
                    </ng-container>
                </td>
            </ng-container>

            <!-- Actions -->
            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef>
                    <span class="cell-strong">Actions</span>
                </th>
                <td mat-cell *matCellDef="let row let i = index" class="actions">
                    <button mat-icon-button matTooltip="View" (click)="openJobDetails(i)">
                        <mat-icon>visibility</mat-icon>
                    </button>
                    <button *ngIf="role == 'Employer'" mat-icon-button matTooltip="Edit">
                        <mat-icon>edit</mat-icon>
                    </button>
                    <button  *ngIf="role == 'Employer'" mat-icon-button matTooltip="Copy Link">
                        <mat-icon>content_copy</mat-icon>
                    </button>
                    <button  *ngIf="role == 'Employer'" mat-icon-button matTooltip="Applicants" [routerLink]="['/jobapplicants', row.jobId]" [state]="{ job: row }">
                        <mat-icon>group</mat-icon>
                    </button>
                </td>
            </ng-container>

            <!-- header & rows -->
            <tr mat-header-row *matHeaderRowDef="displayedColumns" class="sticky"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
    </div>
</div>





<!-- <p>job-shell works!</p> -->
<app-job-details [selectedJob]="selectedJob" [componentName]="componentName"
    (onToggleStatus)="updateStatus($event)"
    (onDelete)="handleDelete($event)"></app-job-details>


