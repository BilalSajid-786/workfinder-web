<div #confirmationModal class="modal fade" id="confirmationModal" tabindex="-1" aria-labelledby="confirmationModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title" id="confirmationModalLabel">Confirmation</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body text-center">
        <p>Are you sure, you want to {{ action }} this job</p>
      </div>

      <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="onCancel()">
          No
        </button>
        <button type="button" class="btn btn-success" (click)="onConfirm()">
          Yes
        </button>
      </div>
    </div>
  </div>
</div>

<div  *ngIf="componentName == 'AvailableJobs' || componentName == 'SavedJobs' || componentName == 'JobShellApplicant' || componentName == 'AppliedJobs'" #exampleModal class="modal fade modal-lg" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header d-flex justify-content-center position-relative">
        <h5 class="modal-title">Job Details</h5>
        <button type="button" class="btn-close position-absolute end-0 me-3" (click)="closeModal()"></button>
      </div>
      <div class="modal-body">
        <div class="container">
          <div class="row mb-2">
            <div class="col-3 fw-bold">Name:</div>
            <div class="col-9">{{ selectedJob.company }}</div>
          </div>
          <div class="row mb-2">
            <div class="col-3 fw-bold">Job Title:</div>
            <div class="col-9">{{ selectedJob.title }}</div>
          </div>
          <div class="row mb-2">
            <div class="col-3 fw-bold">Industry:</div>
            <div class="col-9">{{ selectedJob.industry }}</div>
          </div>
          <div class="row mb-2">
            <div class="col-3 fw-bold">City:</div>
            <div class="col-9">{{ selectedJob.city }}</div>
          </div>
          <div class="row mb-2">
            <div class="col-3 fw-bold">Job Type:</div>
            <div class="col-9">{{ selectedJob.jobType }}</div>
          </div>
          <div class="row mb-2">
            <div class="col-3 fw-bold">Posted Date:</div>
            <div class="col-9">{{ selectedJob.postedDate }}</div>
          </div>
          <div class="row mb-2">
            <div class="col-3 fw-bold">Skills Required:</div>
            <div *ngIf="componentName == 'AvailableJobs' || componentName == 'SavedJobs' || componentName == 'AppliedJobs'" class="col-9">
              <span *ngFor="let skill of selectedJob.skills; let last = last">{{ skill }}<ng-container *ngIf="!last">, </ng-container></span>
            </div>
            <div *ngIf="componentName == 'JobShellApplicant'" class="col-9">
              <span *ngFor="let skill of selectedJob.skills">{{ skill.skillName }},</span>
            </div>
          </div>
          <div class="row mb-2">
            <div class="col-3 fw-bold">Description:</div>
            <div class="col-12">
              <textarea class="form-control" rows="10" readonly>{{
                selectedJob.description
              }}</textarea>
            </div>
            <div class="row mt-3">
              <div class="col d-flex justify-content-end">
                <button type="submit" class="wf-btn me-3" style="font-weight: normal; margin: 0" (click)="saveJob()"
                  *ngIf="componentName == 'AvailableJobs' || componentName == 'JobShellApplicant'">
                  Save
                </button>
                <button type="submit" class="wf-btn" style="font-weight: normal; margin: 0" (click)="applyJob()" *ngIf="
                    componentName == 'AvailableJobs' ||
                    componentName == 'SavedJobs' ||
                    componentName == 'JobShellApplicant'
                  ">
                  Apply Now
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="componentName == 'ActiveJobs' || componentName == 'InactiveJobs' || componentName == 'JobShellEmployer'" #exampleModal class="modal fade modal-lg" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header d-flex justify-content-center position-relative">
        <h5 class="modal-title">Job Details</h5>
        <button type="button" class="btn-close position-absolute end-0 me-3" (click)="closeModal()"></button>
      </div>
      <div class="modal-body">
        <div class="container">
          <div class="row mb-2">
            <div class="col-3 fw-bold">Name:</div>
            <div class="col-9">{{ selectedJob.companyName }}</div>
          </div>
          <div class="row mb-2">
            <div class="col-3 fw-bold">Job Title:</div>
            <div class="col-9">{{ selectedJob.title }}</div>
          </div>
          <div class="row mb-2">
            <div class="col-3 fw-bold">Industry:</div>
            <div class="col-9">{{ selectedJob.industryName }}</div>
          </div>
          <div class="row mb-2">
            <div class="col-3 fw-bold">City:</div>
            <div class="col-9">{{ selectedJob.city }}</div>
          </div>
          <div class="row mb-2">
            <div class="col-3 fw-bold">Job Type:</div>
            <div class="col-9">{{ selectedJob.jobType }}</div>
          </div>
          <div class="row mb-2">
            <div class="col-3 fw-bold">Expiry Date:</div>
            <div class="col-9">{{ selectedJob.expiryDate | date:'mediumDate'}}</div>
          </div>
          <div class="row mb-2">
            <div class="col-3 fw-bold">Skills Required:</div>
            <div class="col-9">
              <span *ngFor="let skill of selectedJob.skills; let last = last">{{ skill.skillName }}<ng-container *ngIf="!last">, </ng-container></span>
            </div>
          </div>
           <div class="row mb-2">
            <div class="col-3 fw-bold">Status:</div>
            <div class="col-9">{{ selectedJob.isActive ? 'Active' : 'Inactive' }}</div>
          </div>
          <div class="row mb-2">
            <div class="col-3 fw-bold">Description:</div>
            <div class="col-12">
              <textarea class="form-control" rows="10" readonly>{{
                selectedJob.description
              }}</textarea>
            </div>
            <div class="row mt-3">
            
              <div class="col-3 d-flex">{{selectedJob.isActive ? 'Active' : 'Inactive'}}
                <mat-slide-toggle class="toggle-sm" style="margin-top: -5px;" selected-icon-size="small" color="primary"
                  [checked]="selectedJob.isActive" (change)="toggleStatus(selectedJob, $event.checked)" aria-label="Toggle job status">
                </mat-slide-toggle>
              </div>
            
              <div class="col d-flex justify-content-end flex-wrap gap-2">
                <button type="button" class="btn btn-primary px-3" style="font-weight: normal; margin: 0" (click)="editJob()">
                  Edit
                </button>
                <button *ngIf="componentName != 'InactiveJobs'" type="button" class="btn btn-primary px-3" style="font-weight: normal; margin: 0" (click)="copyLink()">
                  Copy Link
                </button>
                <button type="button" class="btn btn-primary px-3" style="font-weight: normal; margin: 0" (click)="viewApplicants()">
                  View Applicants
                </button>
                <button type="button" class="btn btn-danger px-3" style="font-weight: normal; margin: 0" (click)="deleteJob()">
                  Delete
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>